<div class="max-w-6xl mx-auto px-4 py-6">
  <div class="bg-white rounded-2xl shadow-md p-6">
    <h3 class="text-lg font-semibold text-gray-800 mb-4">Explore Greentrail Communities</h3>
      <%= form_with url: search_communities_path, method: :post, data: { turbo_frame: "search_results" }, class: "w-full flex flex-wrap items-center gap-2" do |f| %>
        <%= f.text_field :q, placeholder: "Search by community or location...", class: "flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:border-blue-300" %>

        <%= f.select :country_id, Country.order(:name).pluck(:name, :id),
              include_blank: "All Countries",
              class: "px-3 py-2 border border-gray-300 rounded-md shadow-sm" %>

        <%= f.submit "Search", class: "bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition" %>
      <% end %>
  </div>

  <div class="mt-6">
    <turbo-frame id="search_results" action="replace">
      <%= render partial: "communities/results", formats: [:html], locals: { communities: @communities || [], searched: false } %>
    </turbo-frame>
  </div>
</div>