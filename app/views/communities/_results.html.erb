<% searched = local_assigns[:searched] || false %>
<% view = local_assigns[:view] || "grid" %>

<% if communities.any? %>
  <% if view == "list" %>
    <div class="space-y-4">
      <%= render partial: "communities/list_item", collection: communities, as: :community %>
    </div>
  <% else %>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
      <%= render partial: "communities/mini_card", collection: communities, as: :community %>
    </div>
  <% end %>
<% elsif searched %>
  <p class="text-gray-500 text-center mt-4">No communities found matching your search.</p>
<% end %>